import {
  CodeSurferColumnLayout,
  Step,
  Code,
} from "code-surfer";
export { vsDarkFull as theme } from "code-surfer/themes";
import GreetingLoader from "./src/greeting-loader";
import { Image } from "mdx-deck";

<CodeSurferColumnLayout sizes={[1,2]}>
  
<Step subtitle="we want to make the 'name' editable">
  <GreetingLoader />
  <Code code={require("!!raw-loader!./src/greeting.1.1.js").default} lang="jsx"/>
</Step>

<Step subtitle="so we turn the component into a class">
  <GreetingLoader version="class.1.1" />
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.1.1.js")
        .default
    }
    lang="jsx"
  />
</Step>

<Step subtitle="add some state">
  <GreetingLoader version="class.1.2" />
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.1.2.js")
        .default
    }
    lang="jsx"
  />
</Step>

<Step subtitle="and we add a change handler that calls setState">
  <GreetingLoader version="class.1.3" />
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.1.3.js")
        .default
    }
    lang="jsx"
    focus="10:12,15:17,25"
  />
</Step>

</CodeSurferColumnLayout>

---

Let's take a step back

---

<CodeSurferColumnLayout sizes={[1,2]}>
  
<Step subtitle="what if we didn't have to write a class when we want to use state?">
  <GreetingLoader />
  <Code code={require("!!raw-loader!./src/greeting.1.1.js").default} lang="jsx"/>
</Step>

<Step subtitle="">
  <GreetingLoader />
  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.1.js")
        .default
    }
    focus="5,10"
    lang="jsx"
  />
</Step>

<Step subtitle="">
  <GreetingLoader />
  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.2.js")
        .default
    }
    focus="6,8:10,15[29:55]"
    lang="jsx"
  />
</Step>

<Step subtitle="name and setName are closely related, let's put them together">
  <GreetingLoader />
  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.2.js")
        .default
    }
    focus="5:6"
    lang="jsx"
  />
</Step>

<Step subtitle="where do we get name and setName from?">
  <GreetingLoader />
  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.3.js")
        .default
    }
    lang="jsx"
  />
</Step>

<Step subtitle="what if we could just **use** state from React?">
  <GreetingLoader version="hooks.1.4" />
  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.4.js")
        .default
    }
    focus="1[15:40],5"
    lang="jsx"
  />
</Step>

</CodeSurferColumnLayout>

---

Let's compare the two approaches

---

<CodeSurferColumnLayout>

<Step subtitle="">
  
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.1.3.js").default
    }
    lang="jsx"
    title="Class"
  />

  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.4.js").default
    }
    lang="jsx"
    title="Hooks"
  />
</Step>

<Step subtitle="">
  
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.1.3.js").default
    }
    lang="jsx"
    title="Class"
    subtitle="state is everywhere"
    focus="7:9,16,24"
  />

  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.1.4.js").default
    }
    lang="jsx"
    title="Hooks"
    subtitle="just one line"
    focus="5"
  />
</Step>

</CodeSurferColumnLayout>

---

Let's go back to the class example

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="Now we want to add a second field for the surname">
    <GreetingLoader version="class.1.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.1.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="so we add another key to the state and copy all the boilerplate">
    <GreetingLoader version="class.2.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.2.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

Let's do the same with hooks

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="hooks.1.4" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.1.4.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.2.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.2.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

Let's compare

---

<CodeSurferColumnLayout>

<Step subtitle="">
  
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.2.1.js").default
    }
    lang="jsx"
    title="Class"
  />

  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.2.1.js").default
    }
    lang="jsx"
    title="Hooks"
  />
</Step>

<Step subtitle="">
  
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.2.1.js").default
    }
    lang="jsx"
    title="Class"
    subtitle=""
    focus="7[1],9,14:16,23:25,38,39"
  />

  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.2.1.js").default
    }
    lang="jsx"
    title="Hooks"
    subtitle=""
    focus="6,12:14,23,24"
  />
</Step>

</CodeSurferColumnLayout>

---

Now context

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="class.2.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.2.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.3.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.3.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.3.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.3.2.js")
          .default
      }
      lang="jsx"
      focus="30,31,32[20:37],46,47"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.3.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.3.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

And with hooks

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="hooks.2.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.2.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.3.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.3.1.js")
          .default
      }
      lang="jsx"
      focus="1[27:37,40:52],3"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.3.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.3.2.js")
          .default
      }
      lang="jsx"
      focus="8,19[14:30]"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.3.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.3.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

Comparing again

---

<CodeSurferColumnLayout>

<Step subtitle="">
  
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.3.3.js").default
    }
    lang="jsx"
    title="Class"
  />

  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.3.3.js").default
    }
    lang="jsx"
    title="Hooks"
  />
</Step>

<Step subtitle="Bye wrappers and render props">
  
  <Code
    code={
      require("!!raw-loader!./src/greeting.class.3.3.js").default
    }
    lang="jsx"
    title="Class"
    subtitle=""
    focus="30,31,45,46,48,49,51,52"
  />

  <Code
    code={
      require("!!raw-loader!./src/greeting.hooks.3.3.js").default
    }
    lang="jsx"
    title="Hooks"
    subtitle=""
    focus="8,9"
  />
</Step>

</CodeSurferColumnLayout>

---

Effects

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="class.3.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.3.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.4.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.4.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

And with hooks

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="hooks.3.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.3.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.4.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.4.1.js")
          .default
      }
      lang="jsx"
      focus="1,4,5"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.4.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.4.2.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

More Effects

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="class.4.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.4.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.5.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.5.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.5.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.5.2.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="class.5.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.class.5.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

And with hooks

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="hooks.4.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.4.2.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.5.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.5.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.5.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.5.2.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.5.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.5.3.js")
          .default
      }
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

<Image src="./onemorething.jpg" />

---

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step subtitle="">
    <GreetingLoader version="hooks.5.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.5.3.js")
          .default
      }
      lang="jsx"
      focus="19:26"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.6.1" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.6.1.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.6.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.6.2.js")
          .default
      }
      lang="jsx"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.6.2" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.6.2.js")
          .default
      }
      lang="jsx"
      focus="10,11,17:23,28,31:34"
    />
  </Step>
  <Step subtitle="">
    <GreetingLoader version="hooks.6.3" />
    <Code
      code={
        require("!!raw-loader!./src/greeting.hooks.6.3.js")
          .default
      }
      lang="jsx"
      focus="10,11,20,23,31:40"
    />
  </Step>
</CodeSurferColumnLayout>
